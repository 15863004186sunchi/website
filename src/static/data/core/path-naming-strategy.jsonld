{"@context":"http://schema.org","@type":"CreativeWork","name":"Path naming strategy","text":"\u003ch1\u003ePath naming strategy\u003c/h1\u003e\n\n\u003cp\u003eWith API Platform, you can configure the naming strategy of URL paths exposing your resources globally.\nIt comes with pre-registered generators, which you can easily override.\u003c/p\u003e\n\n\u003ch2\u003eConfiguration\u003c/h2\u003e\n\n\u003cp\u003eThere are two pre-registered path generator services:\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eStrategy\u003c/th\u003e\n\u003cth\u003eEntity name\u003c/th\u003e\n\u003cth\u003ePath result\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eapi_platform.routing.resource_path_generator.underscore\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003eMyResource\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e/my_resources\u003c/code\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eapi_platform.routing.resource_path_generator.dash\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003eMyResource\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e/my-resources\u003c/code\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eThe default generator is \u003ccode\u003eapi_platform.routing.resource_path_generator.underscore\u003c/code\u003e.\nTo change it to the dash generator, add the following lines to \u003ccode\u003eapp/config/config.yml\u003c/code\u003e:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# app/config/config.yml\n\napi_platform:\n    routing:\n        resource_path_generator: \u0026#39;api_platform.routing.resource_path_generator.dash\u0026#39;\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch2\u003eCreate a custom path generator\u003c/h2\u003e\n\n\u003cp\u003eLet’s assumes we need urls without separators (e.g. \u003ccode\u003eapi.tld/myresources\u003c/code\u003e)\u003c/p\u003e\n\n\u003ch3\u003eDefining the Resource Path Generator\u003c/h3\u003e\n\n\u003cp\u003eMake sure the custom generator implements \u003ccode\u003eApiPlatform\\Core\\Routing\\ResourcePathGeneratorInterface\u003c/code\u003e:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e// src/AppBundle/Routing/NoSeparatorsResourcePathGenerator.php\n\nnamespace AppBundle\\Routing;\n\nuse ApiPlatform\\Core\\Routing\\ResourcePathGeneratorInterface;\nuse Doctrine\\Common\\Inflector\\Inflector;\n\nclass NoSeparatorsResourcePathGenerator implements ResourcePathGeneratorInterface\n{\n    public function generateResourceBasePath(string $resourceShortName) : string\n    {\n        return Inflector::pluralize(strtolower($resourceShortName));\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eNote that \u003ccode\u003e$resourceShortName\u003c/code\u003e contains a camel case string, by default the resource class name (e.g. \u003ccode\u003eMyResource\u003c/code\u003e).\u003c/p\u003e\n\n\u003ch3\u003eRegistering the service\u003c/h3\u003e\n\n\u003cp\u003e\u003cconfigurations\u003e\u003c/configurations\u003e\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# src/AppBundle/Resources/config/services.yml\n\nservices:\n  app.routing.resource_path_generator.no_separators:\n    class: \u0026#39;AppBundle\\Routing\\NoSeparatorsResourcePathGenerator\u0026#39;\n    public: false\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-xml\"\u003e\u0026lt;!-- src/AppBundle/Resources/config/services.xml --\u0026gt;\n\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt;\n\u0026lt;services\u0026gt;\n    \u0026lt;service id=\u0026#34;app.routing.resource_path_generator.no_separators\u0026#34; class=\u0026#34;AppBundle\\Routing\\NoSeparatorsResourcePathGenerator\u0026#34; public=\u0026#34;false\u0026#34; /\u0026gt;\n\u0026lt;/services\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003e\u003c/p\u003e\n\n\u003ch3\u003eConfigure it\u003c/h3\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# app/config/config.yml\n\napi_platform:\n    routing:\n        resource_path_generator: \u0026#39;app.routing.resource_path_generator.no_separators\u0026#39;\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003ePrevious chapter: \u003ca href=\"serialization-groups-and-relations.jsonld\"\u003eSerialization groups and relations\u003c/a\u003e\nNext chapter: \u003ca href=\"validation.jsonld\"\u003eValidation\u003c/a\u003e\u003c/p\u003e\n","author":[{"@type":"Person","Name":"Kévin Dunglas","email":"dunglas@gmail.com"}],"dateCreated":"2016-06-19T21:49:09+02:00","dateModified":"2016-06-19T21:49:09+02:00"}